{"ast":null,"code":"import _classCallCheck from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import PrayerData from'../prayer-data/prayer-data';import moment from'moment/moment';import View5 from'../../Views/View 5/View5';import AppConfig from'../app-config/app-config';var BlackoutPeriods=/*#__PURE__*/function(_Component){_inherits(BlackoutPeriods,_Component);function BlackoutPeriods(props){var _this;_classCallCheck(this,BlackoutPeriods);_this=_possibleConstructorReturn(this,_getPrototypeOf(BlackoutPeriods).call(this,props));var _appConfig=new AppConfig();_this.state={blackOutSlide:React.createElement(View5,null),blackOutPeriods:{fajr:_appConfig.get('blackOutPeriod_fajr'),zuhr:_appConfig.get('blackOutPeriod_zuhr'),asr:_appConfig.get('blackOutPeriod_asr'),maghrib:_appConfig.get('blackOutPeriod_maghrib'),isha:_appConfig.get('blackOutPeriod_isha'),jummah:_appConfig.get('blackOutPeriod_jummah')}};return _this;}_createClass(BlackoutPeriods,[{key:\"getPrayerTimes\",value:function getPrayerTimes(){var date=moment().format('DD/MM/YYYY');var _data=new PrayerData();var currentDay=_data.getPrayerTimes(date);var prayerTimes={fajr:\"\".concat(currentDay['Fajr Jama‘ah'],\" AM\"),zuhr:\"\".concat(currentDay['Zuhr Jama‘ah'],\" PM\"),asr:\"\".concat(currentDay['Asr Jama‘ah'],\" PM\"),maghrib:\"\".concat(currentDay['Maghrib Jama‘ah'],\" PM\"),isha:\"\".concat(currentDay['Isha Jama‘ah'],\" PM\")};return prayerTimes;}},{key:\"getCurrentTime\",value:function getCurrentTime(){return moment().format('HH:mm');}},{key:\"stringToTime\",value:function stringToTime(stringTime){return moment(stringTime,'HH:mm a').format('HH:mm');}},{key:\"getBlackoutEndTime\",value:function getBlackoutEndTime(time){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;return moment(time,'HH:mm a').add(duration,'minutes').format('HH:mm');}},{key:\"isJummahPeriod\",value:function isJummahPeriod(prayerName){return moment().day()===5&&prayerName==='zuhr';}},{key:\"isBlackout\",value:function isBlackout(prayerName){// return true; // for testing\nvar todaysPrayerTime=this.getPrayerTimes();var durations=this.state.blackOutPeriods;var currentTime=this.getCurrentTime();var isJummahPeriod=this.isJummahPeriod(prayerName);if(currentTime>=this.stringToTime(todaysPrayerTime[prayerName])&&currentTime<=this.getBlackoutEndTime(this.stringToTime(todaysPrayerTime[prayerName]),isJummahPeriod?durations['jummah']:durations[prayerName])){return true;}else return false;}},{key:\"checkIfBlackoutPeriod\",value:function checkIfBlackoutPeriod(){if(this.isBlackout('fajr'))return true;else if(this.isBlackout('zuhr'))return true;else if(this.isBlackout('asr'))return true;else if(this.isBlackout('maghrib'))return true;else if(this.isBlackout('isha'))return true;else return false;}}]);return BlackoutPeriods;}(Component);export default BlackoutPeriods;","map":{"version":3,"sources":["/Users/abdussamad/Documents/Projects/Mosque-Screens/src/_components/blackout-periods/blackout-periods.js"],"names":["React","Component","PrayerData","moment","View5","AppConfig","BlackoutPeriods","props","_appConfig","state","blackOutSlide","blackOutPeriods","fajr","get","zuhr","asr","maghrib","isha","jummah","date","format","_data","currentDay","getPrayerTimes","prayerTimes","stringTime","time","duration","add","prayerName","day","todaysPrayerTime","durations","currentTime","getCurrentTime","isJummahPeriod","stringToTime","getBlackoutEndTime","isBlackout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PrayerData from '../prayer-data/prayer-data';\nimport moment from 'moment/moment';\nimport View5 from '../../Views/View 5/View5';\nimport AppConfig from '../app-config/app-config';\n\nclass BlackoutPeriods extends Component {\n  constructor(props) {\n    super(props);\n    var _appConfig = new AppConfig();\n    this.state = {\n      blackOutSlide: <View5 />,\n      blackOutPeriods: {\n        fajr: _appConfig.get('blackOutPeriod_fajr'),\n        zuhr: _appConfig.get('blackOutPeriod_zuhr'),\n        asr: _appConfig.get('blackOutPeriod_asr'),\n        maghrib: _appConfig.get('blackOutPeriod_maghrib'),\n        isha: _appConfig.get('blackOutPeriod_isha'),\n        jummah: _appConfig.get('blackOutPeriod_jummah')\n      }\n    };\n  }\n\n  getPrayerTimes() {\n    var date = moment().format('DD/MM/YYYY');\n    var _data = new PrayerData();\n    var currentDay = _data.getPrayerTimes(date);\n    var prayerTimes = {\n      fajr: `${currentDay['Fajr Jama‘ah']} AM`,\n      zuhr: `${currentDay['Zuhr Jama‘ah']} PM`,\n      asr: `${currentDay['Asr Jama‘ah']} PM`,\n      maghrib: `${currentDay['Maghrib Jama‘ah']} PM`,\n      isha: `${currentDay['Isha Jama‘ah']} PM`\n    };\n    return prayerTimes;\n  }\n\n  getCurrentTime() {\n    return moment().format('HH:mm');\n  }\n\n  stringToTime(stringTime) {\n    return moment(stringTime, 'HH:mm a').format('HH:mm');\n  }\n\n  getBlackoutEndTime(time, duration = 10) {\n    return moment(time, 'HH:mm a')\n      .add(duration, 'minutes')\n      .format('HH:mm');\n  }\n\n  isJummahPeriod(prayerName) {\n    return moment().day() === 5 && prayerName === 'zuhr';\n  }\n\n  isBlackout(prayerName) {\n    // return true; // for testing\n    var todaysPrayerTime = this.getPrayerTimes();\n    var durations = this.state.blackOutPeriods;\n    var currentTime = this.getCurrentTime();\n    var isJummahPeriod = this.isJummahPeriod(prayerName);\n\n    if (\n      currentTime >= this.stringToTime(todaysPrayerTime[prayerName]) &&\n      currentTime <=\n        this.getBlackoutEndTime(\n          this.stringToTime(todaysPrayerTime[prayerName]),\n          isJummahPeriod ? durations['jummah'] : durations[prayerName]\n        )\n    ) {\n      return true;\n    } else return false;\n  }\n\n  checkIfBlackoutPeriod() {\n    if (this.isBlackout('fajr')) return true;\n    else if (this.isBlackout('zuhr')) return true;\n    else if (this.isBlackout('asr')) return true;\n    else if (this.isBlackout('maghrib')) return true;\n    else if (this.isBlackout('isha')) return true;\n    else return false;\n  }\n}\n\nexport default BlackoutPeriods;\n"]},"metadata":{},"sourceType":"module"}