{"ast":null,"code":"import _classCallCheck from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abdussamad/Documents/Projects/Mosque-Screens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Slider.css';import View1 from'../Views/View 1/View1';import View2 from'../Views/View 2/View2';import View3 from'../Views/View 3/View3';import View4 from'../Views/View 4/View4';import View6 from'../Views/View 6/View6';import SingleView from'../Views/SingleView/SingleView';import GoogleSlides from'../GoogleSlides/GoogleSlides';import config from'../config.json';import BlackoutPeriods from'../_components/blackout-periods/blackout-periods';import AppConfig from'../_components/app-config/app-config';var Slider=/*#__PURE__*/function(_Component){_inherits(Slider,_Component);function Slider(props){var _this;_classCallCheck(this,Slider);_this=_possibleConstructorReturn(this,_getPrototypeOf(Slider).call(this,props));var _appConfig=new AppConfig();var sliderMode=_appConfig.get('sliderMode');_this.state={currentSlide:sliderMode==='single-view'?_this.getSingleView():_this.getInitialSlide(),slides:_this.getSlides(),currentPosition:0,sliderMode:sliderMode||'slider',slideTimeout:_appConfig.get('sliderTimeout')||8000,googleSlides:{slide:React.createElement(GoogleSlides,null),totalCount:config.googleSlides&&config.googleSlides.numberOfSlides?config.googleSlides.numberOfSlides:0}};return _this;}_createClass(Slider,[{key:\"getInitialSlide\",value:function getInitialSlide(){return React.createElement(View1,null);}},{key:\"getSingleView\",value:function getSingleView(){return React.createElement(SingleView,null);}},{key:\"getSlides\",value:function getSlides(){return[React.createElement(View1,null),React.createElement(View2,null),React.createElement(View3,null),React.createElement(View4,null),React.createElement(View6,null)];}},{key:\"next\",value:function next(){var _this2=this;var blackoutPeriods=new BlackoutPeriods();if(blackoutPeriods.checkIfBlackoutPeriod()){this.setState(function(){return{currentSlide:blackoutPeriods.state.blackOutSlide,currentPosition:0};});}else if(this.state.sliderMode==='single-view'){this.setState(function(){return{currentSlide:_this2.getSingleView()};});}else{this.nextSlide();}}},{key:\"nextSlide\",value:function nextSlide(){var _this3=this;var newSlidePosition=this.state.currentPosition+1;var isLastSlide=newSlidePosition>=this.state.slides.length;if(isLastSlide){newSlidePosition=0;}this.setState(function(){return{currentSlide:_this3.state.slides[newSlidePosition],currentPosition:newSlidePosition};});}},{key:\"showGoogleSlides\",value:function showGoogleSlides(){var _this4=this;this.setState(function(){return{currentSlide:_this4.state.googleSlides.slide};});this.stopInterval();var slideCount=0;var _gSlideInterval=setInterval(function(){slideCount++;if(slideCount>=_this4.state.googleSlides.totalCount-1){clearInterval(_gSlideInterval);_this4.startInterval();}},this.state.slideTimeout);}},{key:\"startInterval\",value:function startInterval(){var _this5=this;this.interval=setInterval(function(){return _this5.next();},this.state.slideTimeout);}},{key:\"stopInterval\",value:function stopInterval(){clearInterval(this.interval);}},{key:\"componentDidMount\",value:function componentDidMount(){this.startInterval();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.stopInterval();}},{key:\"render\",value:function render(){return this.state.currentSlide;}}]);return Slider;}(Component);export default Slider;","map":{"version":3,"sources":["/Users/abdussamad/Documents/Projects/Mosque-Screens/src/Slider/Slider.js"],"names":["React","Component","View1","View2","View3","View4","View6","SingleView","GoogleSlides","config","BlackoutPeriods","AppConfig","Slider","props","_appConfig","sliderMode","get","state","currentSlide","getSingleView","getInitialSlide","slides","getSlides","currentPosition","slideTimeout","googleSlides","slide","totalCount","numberOfSlides","blackoutPeriods","checkIfBlackoutPeriod","setState","blackOutSlide","nextSlide","newSlidePosition","isLastSlide","length","stopInterval","slideCount","_gSlideInterval","setInterval","clearInterval","startInterval","interval","next"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Slider.css';\nimport View1 from '../Views/View 1/View1';\nimport View2 from '../Views/View 2/View2';\nimport View3 from '../Views/View 3/View3';\nimport View4 from '../Views/View 4/View4';\nimport View6 from '../Views/View 6/View6';\nimport SingleView from '../Views/SingleView/SingleView';\nimport GoogleSlides from '../GoogleSlides/GoogleSlides';\nimport config from '../config.json';\nimport BlackoutPeriods from '../_components/blackout-periods/blackout-periods';\nimport AppConfig from '../_components/app-config/app-config';\n\nclass Slider extends Component {\n  constructor(props) {\n    super(props);\n    var _appConfig = new AppConfig();\n    var sliderMode = _appConfig.get('sliderMode');\n    this.state = {\n      currentSlide:\n        sliderMode === 'single-view'\n          ? this.getSingleView()\n          : this.getInitialSlide(),\n      slides: this.getSlides(),\n      currentPosition: 0,\n      sliderMode: sliderMode || 'slider',\n      slideTimeout: _appConfig.get('sliderTimeout') || 8000,\n      googleSlides: {\n        slide: <GoogleSlides />,\n        totalCount:\n          config.googleSlides && config.googleSlides.numberOfSlides\n            ? config.googleSlides.numberOfSlides\n            : 0\n      }\n    };\n  }\n\n  getInitialSlide() {\n    return <View1 />;\n  }\n\n  getSingleView() {\n    return <SingleView />;\n  }\n\n  getSlides() {\n    return [<View1 />, <View2 />, <View3 />, <View4 />, <View6 />];\n  }\n\n  next() {\n    var blackoutPeriods = new BlackoutPeriods();\n    if (blackoutPeriods.checkIfBlackoutPeriod()) {\n      this.setState(() => ({\n        currentSlide: blackoutPeriods.state.blackOutSlide,\n        currentPosition: 0\n      }));\n    } else if (this.state.sliderMode === 'single-view') {\n      this.setState(() => ({\n        currentSlide: this.getSingleView()\n      }));\n    } else {\n      this.nextSlide();\n    }\n  }\n\n  nextSlide() {\n    var newSlidePosition = this.state.currentPosition + 1;\n    var isLastSlide = newSlidePosition >= this.state.slides.length;\n\n    if (isLastSlide) {\n      newSlidePosition = 0;\n    }\n\n    this.setState(() => ({\n      currentSlide: this.state.slides[newSlidePosition],\n      currentPosition: newSlidePosition\n    }));\n  }\n\n  showGoogleSlides() {\n    this.setState(() => ({\n      currentSlide: this.state.googleSlides.slide\n    }));\n    this.stopInterval();\n    var slideCount = 0;\n    var _gSlideInterval = setInterval(() => {\n      slideCount++;\n      if (slideCount >= this.state.googleSlides.totalCount - 1) {\n        clearInterval(_gSlideInterval);\n        this.startInterval();\n      }\n    }, this.state.slideTimeout);\n  }\n\n  startInterval() {\n    this.interval = setInterval(() => this.next(), this.state.slideTimeout);\n  }\n\n  stopInterval() {\n    clearInterval(this.interval);\n  }\n\n  componentDidMount() {\n    this.startInterval();\n  }\n\n  componentWillUnmount() {\n    this.stopInterval();\n  }\n\n  render() {\n    return this.state.currentSlide;\n  }\n}\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}